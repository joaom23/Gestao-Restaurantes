@model IEnumerable<Projeto_Lab.Models.ListaFavRestaurante>
@inject Projeto_Lab.Data.LabContext _context;

<h1>Lista dos seus Restaurantes Favoritos </h1>
@if (Model.Count() > 0)
{
    <table class="table">
        <thead>
            <tr>
                @*<th>
                    Email
                </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.IdRNavigation.Nome)
                </th>
                @*<th>
                    @Html.DisplayNameFor(model => model.IdRNavigation.Telefone)
                </th>*@
                <th>
                    @Html.DisplayNameFor(model => model.IdRNavigation.Foto)
                </th>
                @*<th>
                    @Html.DisplayNameFor(model => model.IdRNavigation.DiaDesc)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IdRNavigation.Localizacao)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IdRNavigation.TipoServico)
                </th>*@
                <th>

                </th>
                
                <th>
                    <button id="noti" class="btn btn-outline-info" style="cursor: default">Notificações</button>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    @*<td>

                        @Html.DisplayFor(modelItem => item.IdRNavigation.IdRNavigation.Email)
                    </td>*@
                    <td>

                        <a style="text-decoration:none; color:black" asp-action="VerMaisInfo" asp-controller="Home" asp-route-id="@item.IdR"> @Html.DisplayFor(modelItem => item.IdRNavigation.Nome)</a>
</td>
                    @*<td>
                        @Html.DisplayFor(modelItem => item.IdRNavigation.Telefone)
                    </td>*@
                    <td>
                        <a asp-action="VerMaisInfo" asp-controller="Home" asp-route-id="@item.IdR"> <img src="~/Imagens/Registos/Restaurantes/@Html.DisplayFor(modelItem => item.IdRNavigation.Foto)" height="50" /></a>
</td>
                    @*<td>
                        @Html.DisplayFor(modelItem => item.IdRNavigation.DiaDesc)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdRNavigation.Localizacao)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdRNavigation.TipoServico)
                    </td>*@


                    <td>
                        <a class="remove" asp-action="RemoveFavRest" asp-controller="Clientes" asp-route-id=@item.IdR>Remover dos Favoritos</a>
                    </td>
                    @if (item.Notifica == false)
                    {
                    <td>
                        <a class="add"  asp-action="AddNoti" asp-controller="Clientes" asp-route-id=@item.IdR>Ativar Notificações</a>
                    </td>
                    }
                    else if (item.Notifica == true)
                    {
                    <td>
                        <a class="remove" asp-action="RemoveNoti" asp-controller="Clientes" asp-route-id=@item.IdR>Remover Notificações</a>
                    </td>
            
                    }
                </tr>

            }
        </tbody>
    </table>}
else
{
    <p>Não tem restaurantes favoritos.</p>
}

<div style="position:absolute; bottom:75px; width:80%">
    <a asp-action="Index" asp-controller="Home">Voltar à página Inicial</a>
</div>

@*@section Scripts{ 
<script>
    $(document).ready(function () {
        $("#addrem").hide();

        var hide = 1;

         $("#noti").click(function () {
             if (hide === 1) {
                 $("#addrem").show();
                 hide = 0;
             } else if (hide === 0) {
                 $("#addrem").hide();
                 hide = 1;
             }
    });
    });
</script>
}*@